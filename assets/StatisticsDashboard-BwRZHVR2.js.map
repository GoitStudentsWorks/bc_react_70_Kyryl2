{"version":3,"file":"StatisticsDashboard-BwRZHVR2.js","sources":["../../src/options/selectStyles.js","../../src/helpers/getCurrentDate.js","../../src/helpers/convertMonthToNumber.js","../../src/helpers/convertMonthToString.js","../../src/helpers/getDates.js","../../src/components/StatisticsDashboard/StatisticsDashboard.jsx"],"sourcesContent":["export const styles = {\n  control: () => ({}),\n  container: (baseStyles) => ({\n    ...baseStyles,\n    border: \"1px solid rgba(255, 255, 255, 0.6)\",\n    borderRadius: 8,\n    fontFamily: \"Poppins\",\n    fontWeight: 400,\n    fontSize: 16,\n    backgroundColor: \"rgba(74, 86, 226, 0.1)\",\n    \":hover\": {\n      borderColor: \"rgba(255, 255, 255, 1)\",\n    },\n  }),\n  dropdownIndicator: () => ({\n    display: \"none\",\n  }),\n  indicatorsContainer: () => ({\n    display: \"none\",\n  }),\n  singleValue: (baseStyles) => ({\n    ...baseStyles,\n    fontFamily: \"Poppins\",\n    fontWeight: 400,\n    fontSize: 16,\n    color: \"#fbfbfb\",\n  }),\n  input: (baseStyles) => ({\n    ...baseStyles,\n    caretColor: \"#fbfbfb\",\n    fontFamily: \"Poppins\",\n    fontWeight: 400,\n    fontSize: 16,\n    color: \"#fbfbfb\",\n  }),\n  valueContainer: (baseStyles) => ({\n    ...baseStyles,\n    padding: \"12px 20px\",\n  }),\n  menu: (baseStyles) => ({\n    ...baseStyles,\n    background:\n      \"linear-gradient(360deg, rgba(83, 61, 186, 0.7) 0%, rgba(80, 48, 154, 0.7) 35.94%, rgba(106, 70, 165, 0.7) 61.04%, rgba(133, 93, 175, 0.7) 100%);\",\n    backdropFilter: \"blur(100px)\",\n    boxShadow: \"0 4px 60px 0 rgba(0, 0, 0, 0.25)\",\n    borderRadius: 8,\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n  }),\n  menuList: (baseStyles) => ({\n    ...baseStyles,\n    display: \"flex\",\n    flexDirection: \"column\",\n    padding: 0,\n    \"::-webkit-scrollbar\": {\n      display: \"none\",\n    },\n  }),\n  option: (baseStyles, state) => ({\n    ...baseStyles,\n    backgroundColor: state.isFocused && \"rgba(255, 255, 255, 0.1)\",\n    color: state.isFocused ? \"#ff868d\" : \"#fbfbfb\",\n    cursor: \"pointer\",\n    padding: \"8px 20px\",\n    display: \"block\",\n    \":active\": {\n      backgroundColor: \"rgba(255, 255, 255, 0.1)\",\n    },\n  }),\n};\n","import { format } from \"date-fns\";\n\nexport const getCurrentDate = () => {\n  const date = new Date();\n  const currentMonth = format(date, \"MM\");\n  const currentYear = format(date, \"yyyy\");\n\n  return { currentMonth, currentYear };\n};\n","export const convertMonthToNumber = (month) => {\n  switch (month) {\n    case \"january\":\n      return \"01\";\n    case \"february\":\n      return \"02\";\n    case \"march\":\n      return \"03\";\n    case \"april\":\n      return \"04\";\n    case \"may\":\n      return \"05\";\n    case \"june\":\n      return \"06\";\n    case \"july\":\n      return \"07\";\n    case \"august\":\n      return \"08\";\n    case \"september\":\n      return \"09\";\n    case \"october\":\n      return \"10\";\n    case \"november\":\n      return \"11\";\n    case \"december\":\n      return \"12\";\n\n    default:\n  }\n};\n","export const convertMonthToString = (monthNumeric) => {\n  switch (monthNumeric) {\n    case \"01\":\n      return { label: \"January\", value: \"january\" };\n    case \"02\":\n      return { label: \"February\", value: \"february\" };\n    case \"03\":\n      return { label: \"March\", value: \"march\" };\n    case \"04\":\n      return { label: \"April\", value: \"april\" };\n    case \"05\":\n      return { label: \"May\", value: \"may\" };\n    case \"06\":\n      return { label: \"June\", value: \"june\" };\n    case \"07\":\n      return { label: \"July\", value: \"july\" };\n    case \"08\":\n      return { label: \"August\", value: \"august\" };\n    case \"09\":\n      return { label: \"September\", value: \"september\" };\n    case \"10\":\n      return { label: \"October\", value: \"october\" };\n    case \"11\":\n      return { label: \"November\", value: \"november\" };\n    case \"12\":\n      return { label: \"December\", value: \"december\" };\n\n    default:\n  }\n};\n","import { convertMonthToNumber } from \"./convertMonthToNumber\";\nimport { convertMonthToString } from \"./convertMonthToString\";\nimport { getCurrentDate } from \"./getCurrentDate\";\n\nexport const getOptions = (transactions) => {\n  const transactionDates = transactions.map(\n    (transaction) => transaction.transactionDate\n  );\n  const transactionYears = transactionDates.map((transaction) => {\n    const year = transaction.slice(0, 4);\n    return { label: year, value: year };\n  });\n  const transactionMonths = transactionDates.map((transaction) => {\n    const monthNumeric = transaction.slice(5, 7);\n    return convertMonthToString(monthNumeric);\n  });\n  const unsortedMonthsOptions = transactionMonths.map((month) => {\n    return convertMonthToNumber(month.value);\n  });\n  const sortedNumMonthsOptions = unsortedMonthsOptions.toSorted((a, b) => {\n    return a - b;\n  });\n  const sortedMonthsOptions = sortedNumMonthsOptions.map((month) => {\n    return convertMonthToString(month);\n  });\n  const sortedYearsOptions = transactionYears.toSorted((a, b) => {\n    return b.value - a.value;\n  });\n\n  const yearsOptions = [...sortedYearsOptions];\n  const monthsOptions = [...sortedMonthsOptions];\n\n  const filteredYearsOptions = yearsOptions.filter((year, index, self) => {\n    return (\n      index ===\n      self.findIndex((currentYear) => currentYear.value === year.value)\n    );\n  });\n  const filteredMonthsOptions = monthsOptions.filter((month, index, self) => {\n    return (\n      index ===\n      self.findIndex((currentMonth) => currentMonth.value === month.value)\n    );\n  });\n\n  return { filteredMonthsOptions, filteredYearsOptions };\n};\n\nexport const getOptionsIndex = (\n  filteredMonthsOptions,\n  filteredYearsOptions\n) => {\n  const { currentMonth, currentYear } = getCurrentDate();\n\n  const monthIndex = filteredMonthsOptions.findIndex((month) => {\n    return convertMonthToNumber(month.value) === currentMonth;\n  });\n  const yearIndex = filteredYearsOptions.findIndex((year) => {\n    return year.value === currentYear;\n  });\n\n  return { monthIndex, yearIndex };\n};\n","import { useMemo, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Select from \"react-select\";\nimport clsx from \"clsx\";\n\nimport { Icon } from \"../../images/Icon/Icon\";\n\nimport { getSummaryThunk } from \"../../redux/transactions/operations\";\nimport { selectTransactions } from \"../../redux/transactions/selectors\";\nimport { styles } from \"../../options/selectStyles\";\nimport { getCurrentDate } from \"../../helpers/getCurrentDate\";\nimport { convertMonthToNumber } from \"../../helpers/convertMonthToNumber\";\nimport { getOptions, getOptionsIndex } from \"../../helpers/getDates\";\n\nimport css from \"./StatisticsDashboard.module.css\";\n\nconst StatisticsDashboard = () => {\n  const [monthSelectIsOpen, setMonthSelectIsOpen] = useState(false);\n  const [YearSelectIsOpen, setYearSelectIsOpen] = useState(false);\n\n  const transactions = useSelector(selectTransactions);\n\n  const { currentMonth, currentYear } = getCurrentDate();\n\n  const monthRef = useRef(currentMonth);\n  const yearhRef = useRef(currentYear);\n\n  const dispatch = useDispatch();\n\n  const { filteredMonthsOptions, filteredYearsOptions } = useMemo(() => {\n    return getOptions(transactions);\n  }, [transactions]);\n\n  const { monthIndex, yearIndex } = useMemo(() => {\n    return getOptionsIndex(filteredMonthsOptions, filteredYearsOptions);\n  }, [filteredMonthsOptions, filteredYearsOptions]);\n\n  const handleMenuOpen = (id) => {\n    switch (id) {\n      case \"monthSelect\":\n        {\n          setMonthSelectIsOpen(!monthSelectIsOpen);\n        }\n        break;\n      case \"yearSelect\":\n        {\n          setYearSelectIsOpen(!YearSelectIsOpen);\n        }\n        break;\n      default:\n    }\n  };\n  const handleMenuClose = (id) => {\n    switch (id) {\n      case \"monthSelect\":\n        {\n          setMonthSelectIsOpen(!monthSelectIsOpen);\n        }\n        break;\n      case \"yearSelect\":\n        {\n          setYearSelectIsOpen(!YearSelectIsOpen);\n        }\n        break;\n      default:\n    }\n  };\n\n  const handleMonthSelectChange = (monthValue) => {\n    const month = convertMonthToNumber(monthValue);\n\n    monthRef.current = month;\n\n    dispatch(getSummaryThunk({ month, year: yearhRef.current }));\n  };\n\n  const handleYearSelectChange = (yearValue) => {\n    yearhRef.current = yearValue;\n\n    dispatch(getSummaryThunk({ month: monthRef.current, year: yearValue }));\n  };\n\n  return (\n    <>\n      <div className={css.wrapper}>\n        <div className={css.select_wrapper}>\n          <Select\n            id=\"monthSelect\"\n            className={css.select}\n            options={filteredMonthsOptions}\n            defaultValue={filteredMonthsOptions[monthIndex]}\n            placeholder={\"Month\"}\n            styles={styles}\n            onMenuOpen={() => handleMenuOpen(\"monthSelect\")}\n            onMenuClose={() => handleMenuClose(\"monthSelect\")}\n            onChange={({ value }) => handleMonthSelectChange(value)}\n          />\n          <Icon\n            id=\"icon-down-arrow\"\n            className={clsx(css.icon, {\n              [css.is_active]: monthSelectIsOpen,\n            })}\n            width=\"20px\"\n            height=\"11px\"\n          />\n        </div>\n        <div className={css.select_wrapper}>\n          <Select\n            id=\"yearSelect\"\n            className={css.select}\n            options={filteredYearsOptions}\n            defaultValue={filteredYearsOptions[yearIndex]}\n            placeholder={\"Year\"}\n            styles={styles}\n            onMenuOpen={() => handleMenuOpen(\"yearSelect\")}\n            onMenuClose={() => handleMenuClose(\"yearSelect\")}\n            onChange={({ value }) => handleYearSelectChange(value)}\n          />\n          <Icon\n            id=\"icon-down-arrow\"\n            className={clsx(css.icon, {\n              [css.is_active]: YearSelectIsOpen,\n            })}\n            width=\"20px\"\n            height=\"11px\"\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default StatisticsDashboard;\n"],"names":["styles","baseStyles","state","getCurrentDate","date","currentMonth","format","currentYear","convertMonthToNumber","month","convertMonthToString","monthNumeric","getOptions","transactions","transactionDates","transaction","transactionYears","year","sortedMonthsOptions","a","b","yearsOptions","monthsOptions","filteredYearsOptions","index","self","getOptionsIndex","filteredMonthsOptions","monthIndex","yearIndex","StatisticsDashboard","monthSelectIsOpen","setMonthSelectIsOpen","useState","YearSelectIsOpen","setYearSelectIsOpen","useSelector","selectTransactions","monthRef","useRef","yearhRef","dispatch","useDispatch","useMemo","handleMenuOpen","id","handleMenuClose","handleMonthSelectChange","monthValue","getSummaryThunk","handleYearSelectChange","yearValue","jsx","Fragment","jsxs","css","Select","value","Icon","clsx"],"mappings":"qVAAO,MAAMA,EAAS,CACpB,QAAS,KAAO,CAAA,GAChB,UAAYC,IAAgB,CAC1B,GAAGA,EACH,OAAQ,qCACR,aAAc,EACd,WAAY,UACZ,WAAY,IACZ,SAAU,GACV,gBAAiB,yBACjB,SAAU,CACR,YAAa,wBACd,CACL,GACE,kBAAmB,KAAO,CACxB,QAAS,MACb,GACE,oBAAqB,KAAO,CAC1B,QAAS,MACb,GACE,YAAcA,IAAgB,CAC5B,GAAGA,EACH,WAAY,UACZ,WAAY,IACZ,SAAU,GACV,MAAO,SACX,GACE,MAAQA,IAAgB,CACtB,GAAGA,EACH,WAAY,UACZ,WAAY,UACZ,WAAY,IACZ,SAAU,GACV,MAAO,SACX,GACE,eAAiBA,IAAgB,CAC/B,GAAGA,EACH,QAAS,WACb,GACE,KAAOA,IAAgB,CACrB,GAAGA,EACH,WACE,mJACF,eAAgB,cAChB,UAAW,mCACX,aAAc,EACd,OAAQ,UACR,SAAU,QACd,GACE,SAAWA,IAAgB,CACzB,GAAGA,EACH,QAAS,OACT,cAAe,SACf,QAAS,EACT,sBAAuB,CACrB,QAAS,MACV,CACL,GACE,OAAQ,CAACA,EAAYC,KAAW,CAC9B,GAAGD,EACH,gBAAiBC,EAAM,WAAa,2BACpC,MAAOA,EAAM,UAAY,UAAY,UACrC,OAAQ,UACR,QAAS,WACT,QAAS,QACT,UAAW,CACT,gBAAiB,0BAClB,CACL,EACA,ECnEaC,EAAiB,IAAM,CAClC,MAAMC,EAAO,IAAI,KACXC,EAAeC,EAAOF,EAAM,IAAI,EAChCG,EAAcD,EAAOF,EAAM,MAAM,EAEvC,MAAO,CAAE,aAAAC,EAAc,YAAAE,EACzB,ECRaC,EAAwBC,GAAU,CAC7C,OAAQA,EAAK,CACX,IAAK,UACH,MAAO,KACT,IAAK,WACH,MAAO,KACT,IAAK,QACH,MAAO,KACT,IAAK,QACH,MAAO,KACT,IAAK,MACH,MAAO,KACT,IAAK,OACH,MAAO,KACT,IAAK,OACH,MAAO,KACT,IAAK,SACH,MAAO,KACT,IAAK,YACH,MAAO,KACT,IAAK,UACH,MAAO,KACT,IAAK,WACH,MAAO,KACT,IAAK,WACH,MAAO,IAGV,CACH,EC7BaC,EAAwBC,GAAiB,CACpD,OAAQA,EAAY,CAClB,IAAK,KACH,MAAO,CAAE,MAAO,UAAW,MAAO,SAAS,EAC7C,IAAK,KACH,MAAO,CAAE,MAAO,WAAY,MAAO,UAAU,EAC/C,IAAK,KACH,MAAO,CAAE,MAAO,QAAS,MAAO,OAAO,EACzC,IAAK,KACH,MAAO,CAAE,MAAO,QAAS,MAAO,OAAO,EACzC,IAAK,KACH,MAAO,CAAE,MAAO,MAAO,MAAO,KAAK,EACrC,IAAK,KACH,MAAO,CAAE,MAAO,OAAQ,MAAO,MAAM,EACvC,IAAK,KACH,MAAO,CAAE,MAAO,OAAQ,MAAO,MAAM,EACvC,IAAK,KACH,MAAO,CAAE,MAAO,SAAU,MAAO,QAAQ,EAC3C,IAAK,KACH,MAAO,CAAE,MAAO,YAAa,MAAO,WAAW,EACjD,IAAK,KACH,MAAO,CAAE,MAAO,UAAW,MAAO,SAAS,EAC7C,IAAK,KACH,MAAO,CAAE,MAAO,WAAY,MAAO,UAAU,EAC/C,IAAK,KACH,MAAO,CAAE,MAAO,WAAY,MAAO,UAAU,CAGhD,CACH,ECzBaC,EAAcC,GAAiB,CAC1C,MAAMC,EAAmBD,EAAa,IACnCE,GAAgBA,EAAY,eACjC,EACQC,EAAmBF,EAAiB,IAAKC,GAAgB,CAC7D,MAAME,EAAOF,EAAY,MAAM,EAAG,CAAC,EACnC,MAAO,CAAE,MAAOE,EAAM,MAAOA,CAAI,CACrC,CAAG,EAWKC,EAVoBJ,EAAiB,IAAKC,GAAgB,CAC9D,MAAMJ,EAAeI,EAAY,MAAM,EAAG,CAAC,EAC3C,OAAOL,EAAqBC,CAAY,CAC5C,CAAG,EAC+C,IAAKF,GAC5CD,EAAqBC,EAAM,KAAK,CACxC,EACoD,SAAS,CAACU,EAAGC,IACzDD,EAAIC,CACZ,EACkD,IAAKX,GAC/CC,EAAqBD,CAAK,CAClC,EAKKY,EAAe,CAAC,GAJKL,EAAiB,SAAS,CAACG,EAAGC,IAChDA,EAAE,MAAQD,EAAE,KACpB,CAE0C,EACrCG,EAAgB,CAAC,GAAGJ,CAAmB,EAEvCK,EAAuBF,EAAa,OAAO,CAACJ,EAAMO,EAAOC,IAE3DD,IACAC,EAAK,UAAWlB,GAAgBA,EAAY,QAAUU,EAAK,KAAK,CAEnE,EAQD,MAAO,CAAE,sBAPqBK,EAAc,OAAO,CAACb,EAAOe,EAAOC,IAE9DD,IACAC,EAAK,UAAWpB,GAAiBA,EAAa,QAAUI,EAAM,KAAK,CAEtE,EAE+B,qBAAAc,EAClC,EAEaG,EAAkB,CAC7BC,EACAJ,IACG,CACH,KAAM,CAAE,aAAAlB,EAAc,YAAAE,CAAa,EAAGJ,EAAc,EAE9CyB,EAAaD,EAAsB,UAAWlB,GAC3CD,EAAqBC,EAAM,KAAK,IAAMJ,CAC9C,EACKwB,EAAYN,EAAqB,UAAWN,GACzCA,EAAK,QAAUV,CACvB,EAED,MAAO,CAAE,WAAAqB,EAAY,UAAAC,EACvB,iJC9CMC,EAAsB,IAAM,CAChC,KAAM,CAACC,EAAmBC,CAAoB,EAAIC,WAAS,EAAK,EAC1D,CAACC,EAAkBC,CAAmB,EAAIF,WAAS,EAAK,EAExDpB,EAAeuB,EAAYC,CAAkB,EAE7C,CAAE,aAAAhC,EAAc,YAAAE,CAAY,EAAIJ,EAAe,EAE/CmC,EAAWC,SAAOlC,CAAY,EAC9BmC,EAAWD,SAAOhC,CAAW,EAE7BkC,EAAWC,IAEX,CAAE,sBAAAf,EAAuB,qBAAAJ,CAAqB,EAAIoB,UAAQ,IACvD/B,EAAWC,CAAY,EAC7B,CAACA,CAAY,CAAC,EAEX,CAAE,WAAAe,EAAY,UAAAC,CAAU,EAAIc,UAAQ,IACjCjB,EAAgBC,EAAuBJ,CAAoB,EACjE,CAACI,EAAuBJ,CAAoB,CAAC,EAE1CqB,EAAkBC,GAAO,CAC7B,OAAQA,EAAI,CACV,IAAK,cAEDb,EAAqB,CAACD,CAAiB,EAEzC,MACF,IAAK,aAEDI,EAAoB,CAACD,CAAgB,EAEvC,KAEJ,CAAA,EAEIY,EAAmBD,GAAO,CAC9B,OAAQA,EAAI,CACV,IAAK,cAEDb,EAAqB,CAACD,CAAiB,EAEzC,MACF,IAAK,aAEDI,EAAoB,CAACD,CAAgB,EAEvC,KAEJ,CAAA,EAGIa,EAA2BC,GAAe,CACxC,MAAAvC,EAAQD,EAAqBwC,CAAU,EAE7CV,EAAS,QAAU7B,EAEnBgC,EAASQ,EAAgB,CAAE,MAAAxC,EAAO,KAAM+B,EAAS,OAAS,CAAA,CAAC,CAAA,EAGvDU,EAA0BC,GAAc,CAC5CX,EAAS,QAAUW,EAEVV,EAAAQ,EAAgB,CAAE,MAAOX,EAAS,QAAS,KAAMa,CAAW,CAAA,CAAC,CAAA,EAGxE,OAEIC,MAAAC,EAAAA,SAAA,CAAA,SAAAC,EAAA,KAAC,MAAI,CAAA,UAAWC,EAAI,QAClB,SAAA,CAACD,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,eAClB,SAAA,CAAAH,EAAA,IAACI,EAAA,CACC,GAAG,cACH,UAAWD,EAAI,OACf,QAAS5B,EACT,aAAcA,EAAsBC,CAAU,EAC9C,YAAa,QACb,OAAA5B,EACA,WAAY,IAAM4C,EAAe,aAAa,EAC9C,YAAa,IAAME,EAAgB,aAAa,EAChD,SAAU,CAAC,CAAE,MAAAW,KAAYV,EAAwBU,CAAK,CAAA,CACxD,EACAL,EAAA,IAACM,EAAA,CACC,GAAG,kBACH,UAAWC,EAAKJ,EAAI,KAAM,CACxB,CAACA,EAAI,SAAS,EAAGxB,CAAA,CAClB,EACD,MAAM,OACN,OAAO,MAAA,CACT,CAAA,EACF,EACCuB,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAI,eAClB,SAAA,CAAAH,EAAA,IAACI,EAAA,CACC,GAAG,aACH,UAAWD,EAAI,OACf,QAAShC,EACT,aAAcA,EAAqBM,CAAS,EAC5C,YAAa,OACb,OAAA7B,EACA,WAAY,IAAM4C,EAAe,YAAY,EAC7C,YAAa,IAAME,EAAgB,YAAY,EAC/C,SAAU,CAAC,CAAE,MAAAW,KAAYP,EAAuBO,CAAK,CAAA,CACvD,EACAL,EAAA,IAACM,EAAA,CACC,GAAG,kBACH,UAAWC,EAAKJ,EAAI,KAAM,CACxB,CAACA,EAAI,SAAS,EAAGrB,CAAA,CAClB,EACD,MAAM,OACN,OAAO,MAAA,CACT,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}