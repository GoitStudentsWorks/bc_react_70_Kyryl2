import{c as p,a as h,r as o,j as e,L as _}from"./index-BrM3yfkK.js";const g=p.create({baseURL:"https://api.monobank.ua/bank/currency"}),x=async()=>{try{return(await g.get()).data}catch(r){throw console.error("Failed to fetch currency data:",r.message),new Error("Failed to fetch currency data")}},m=()=>{const r=JSON.parse(localStorage.getItem("currency"));return r&&Date.now()-r.date<36e5?r:null},C=r=>{const s={date:Date.now(),usd:r.find(a=>a.currencyCodeA===840&&a.currencyCodeB===980),eur:r.find(a=>a.currencyCodeA===978&&a.currencyCodeB===980)};return localStorage.setItem("currency",JSON.stringify(s)),s},b=async()=>{const r=m();if(r)return r;const t=await x();return C(t)},l="/bc_react_70_Kyryl2/assets/currency-dekstop_1x-3d5Mjs0L.webp",f="/bc_react_70_Kyryl2/assets/currency-tablet_1x-BVas6uKg.webp",j="/bc_react_70_Kyryl2/assets/currency-mobile_1x-DJr14uvW.webp",w="_headContainer_yngbu_1",v="_wrapper_yngbu_10",N="_purchase_yngbu_29",S="_sale_yngbu_33",D="_valContainer_yngbu_37",I="_valWrapper_yngbu_54",E="_image_yngbu_72",c={headContainer:w,wrapper:v,purchase:N,sale:S,valContainer:D,valWrapper:I,image:E},B=()=>{const{isMobile:r,isTablet:t,isDesktop:s}=h(),[a,u]=o.useState(()=>JSON.parse(localStorage.getItem("currency"))||null),[i,d]=o.useState(!a);if(o.useEffect(()=>{(async()=>{try{const n=await b();u(n)}catch(n){console.error("Error fetching currency data:",n)}finally{d(!1)}})()},[]),i)return e.jsx(_,{});const y=()=>s?l:t?f:r?j:l;return e.jsxs("div",{className:c.wrapper,children:[e.jsxs("div",{className:c.headContainer,children:[e.jsx("p",{className:c.currency,children:"Currency"}),e.jsx("p",{className:c.purchase,children:"Purchase"}),e.jsx("p",{className:c.sale,children:"Sale"})]}),e.jsxs("div",{className:c.valWrapper,children:[e.jsxs("div",{className:c.valContainer,children:[e.jsx("p",{children:"USD"}),e.jsx("p",{children:a.usd.rateBuy.toFixed(2)}),e.jsx("p",{children:a.usd.rateSell.toFixed(2)})]}),e.jsxs("div",{className:c.valContainer,children:[e.jsx("p",{children:"EUR"}),e.jsx("p",{children:a.eur.rateBuy.toFixed(2)}),e.jsx("p",{children:a.eur.rateSell.toFixed(2)})]})]}),e.jsx("img",{className:c.image,src:y(),alt:"stats"})]})};export{B as default};
//# sourceMappingURL=Currency-Drtn0wn-.js.map
