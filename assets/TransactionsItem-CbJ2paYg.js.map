{"version":3,"file":"TransactionsItem-CbJ2paYg.js","sources":["../../src/components/TransactionsItem/TransactionsItem.jsx"],"sourcesContent":["import ReactDOM from \"react-dom\";\nimport { useState } from \"react\";\nimport clsx from \"clsx\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Icon } from \"../../images/Icon/Icon\";\n\nimport useMedia from \"../../hooks/useMedia\";\nimport EditTransactionForm from \"../EditTransactionForm/EditTransactionForm\";\nimport { selectCategories } from \"../../redux/transactions/selectors\";\nimport { deleteTransactionThunk } from \"../../redux/transactions/operations\";\n\nimport s from \"./TransactionsItem.module.css\";\n\nconst formatDate = (dateString) => {\n  const date = new Date(dateString);\n  const day = String(date.getDate()).padStart(2, \"0\");\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\n  const year = String(date.getFullYear()).slice(-2);\n  return `${day}.${month}.${year}`;\n};\n\nconst TransactionsItem = ({ transaction }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const dispatch = useDispatch();\n  const displayType = transaction.type === \"INCOME\" ? \"+\" : \"-\";\n  const { isMobile } = useMedia();\n\n  const openModal = () => {\n    setIsModalOpen(true);\n  };\n  const closeModal = () => setIsModalOpen(false);\n\n  const categories = useSelector(selectCategories);\n\n  const category = categories.find(\n    (item) => item.id === transaction.categoryId\n  );\n  const categoryName = category ? category.name : \"Unknown\";\n  const displayAmount = Math.abs(transaction.amount);\n\n  const transactionRow = (\n    <tr key={transaction.id}>\n      <td>{formatDate(transaction.transactionDate)}</td>\n      <td className={s.type}>{displayType}</td>\n      <td>{categoryName}</td>\n      <td>{transaction.comment}</td>\n      <td\n        className={clsx(s.sum, {\n          [s.income]: transaction.type === \"INCOME\",\n          [s.expense]: transaction.type === \"EXPENSE\",\n        })}\n      >\n        {displayAmount}\n      </td>\n      <td>\n        <div className={s.btncontainer}>\n          <button\n            className={s.carandash}\n            type=\"button\"\n            onClick={openModal}\n            aria-label=\"edit button\"\n          >\n            <Icon id=\"icon-pen\" height={14} width={14} />\n          </button>\n          <button\n            className={s.button}\n            type=\"button\"\n            onClick={() => dispatch(deleteTransactionThunk(transaction.id))}\n            aria-label=\"delete button\"\n          >\n            Delete\n          </button>\n        </div>\n      </td>\n    </tr>\n  );\n\n  const transactionCard = (\n    <li\n      className={clsx(s.card, {\n        [s.cardIncome]: transaction.type === \"INCOME\",\n        [s.cardExpense]: transaction.type === \"EXPENSE\",\n      })}\n      key={transaction.id}\n    >\n      <div className={s.cardRow}>\n        <span className={s.cardLabel}>Date</span>\n        <span className={s.cardValue}>\n          {formatDate(transaction.transactionDate)}\n        </span>\n      </div>\n      <div className={s.cardRow}>\n        <span className={s.cardLabel}>Type</span>\n        <span className={s.cardValue}>{displayType}</span>\n      </div>\n      <div className={s.cardRow}>\n        <span className={s.cardLabel}>Category</span>\n        <span className={s.cardValue}>{categoryName}</span>\n      </div>\n      <div className={s.cardRow}>\n        <span className={s.cardLabel}>Comment</span>\n        <span className={s.cardValue}>{transaction.comment}</span>\n      </div>\n      <div className={s.cardRow}>\n        <span className={s.cardLabel}>Sum</span>\n        <span\n          className={clsx(s.cardSum, {\n            [s.income]: transaction.type === \"INCOME\",\n            [s.expense]: transaction.type === \"EXPENSE\",\n          })}\n        >\n          {displayAmount}\n        </span>\n      </div>\n      <div className={s.cardActions}>\n        <button\n          className={s.button}\n          type=\"button\"\n          onClick={() => dispatch(deleteTransactionThunk(transaction.id))}\n          aria-label=\"delete button\"\n        >\n          Delete\n        </button>\n        <button\n          className={s.penContainer}\n          type=\"button\"\n          onClick={openModal}\n          aria-label=\"edit button\"\n        >\n          <Icon id=\"icon-pen\" height={14} width={14} />\n          <p className={s.carandash}>Edit</p>\n        </button>\n      </div>\n    </li>\n  );\n\n  return (\n    <>\n      {!isMobile ? transactionRow : transactionCard}\n      {isModalOpen &&\n        ReactDOM.createPortal(\n          <EditTransactionForm\n            categoryName={categoryName}\n            closeModal={closeModal}\n            transaction={transaction}\n          />,\n          document.body\n        )}\n    </>\n  );\n};\n\nexport default TransactionsItem;\n"],"names":["formatDate","dateString","date","day","month","year","TransactionsItem","transaction","isModalOpen","setIsModalOpen","useState","dispatch","useDispatch","displayType","isMobile","useMedia","openModal","closeModal","category","useSelector","selectCategories","item","categoryName","displayAmount","transactionRow","jsx","s","clsx","jsxs","Icon","deleteTransactionThunk","transactionCard","Fragment","ReactDOM","EditTransactionForm"],"mappings":"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"}