{"version":3,"file":"RegistrationForm-Dpfh8u4S.js","sources":["../../src/components/RegistrationForm/RegistrationForm.jsx"],"sourcesContent":["import * as Yup from \"yup\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport { Form, Formik } from \"formik\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { IoWarningOutline } from \"react-icons/io5\";\n\nimport { CustomInput } from \"../LoginForm/CustomInput\";\nimport Logo from \"../Logo/Logo\";\nimport { Bar } from \"./Bar\";\n\nimport { userRegisterThunk } from \"../../redux/auth/operations\";\n\nimport s from \"./RegistrationForm.module.css\";\n\nconst RegistrationForm = () => {\n  const dispatch = useDispatch();\n\n  const FeedbackSchema = Yup.object().shape({\n    username: Yup.string()\n      .min(1, \"Must be at least 1 character\")\n      .required(\"Required\"),\n    email: Yup.string().email(\"Invalid email address\").required(\"Required\"),\n    password: Yup.string()\n      .min(8, \"Password must be at least 8 characters\")\n      .max(20, \"Password must be at most 12 characters\")\n      .required(\"Required\"),\n    confirm: Yup.string()\n      .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n      .required(\"Required\"),\n  });\n\n  const initialValues = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    confirm: \"\",\n  };\n\n  const handleSubmit = (values, actions) => {\n    const { username, email, password } = values;\n    dispatch(userRegisterThunk({ username, email, password }))\n      .unwrap()\n      .then(() => {\n        actions.resetForm();\n      })\n      .catch((error) => {\n        toast.error(`${error.message}`, {\n          icon: <IoWarningOutline style={{ width: \"40px\", height: \"40px\" }} />,\n          position: \"top-right\",\n          style: {\n            backgroundImage:\n              \"linear-gradient(133deg,#ffc727 0%,#bf6e93 61.46%,#a54ab2 90.54%)\",\n\n            color: \"white\",\n          },\n        });\n      });\n  };\n\n  return (\n    <div className={s.mainContainer}>\n      <Toaster position=\"top-right\" reverseOrder={false} pauseOnHover />\n      <div className={s.formContainer}>\n        <div className={s.container}>\n          <Logo className={s.title} width={36} height={36} />\n          <Formik\n            initialValues={initialValues}\n            onSubmit={handleSubmit}\n            validationSchema={FeedbackSchema}\n          >\n            {({ values: { password, confirm } }) => (\n              <Form className={s.form}>\n                <CustomInput\n                  name=\"username\"\n                  type=\"text\"\n                  placeholder=\"Username\"\n                  iconID=\"icon-user\"\n                />\n                <CustomInput\n                  name=\"email\"\n                  type=\"email\"\n                  placeholder=\"E-mail\"\n                  iconID=\"icon-email\"\n                />\n                <CustomInput\n                  name=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  iconID=\"icon-lock\"\n                />\n                <CustomInput\n                  name=\"confirm\"\n                  type=\"password\"\n                  placeholder=\"Confirm password\"\n                  iconID=\"icon-lock\"\n                />\n                {password && <Bar pass={password} confirm={confirm} />}\n                <div className={s.buttonsWrapper}>\n                  <button\n                    className={clsx(s.btn, s.btnRegister)}\n                    type=\"submit\"\n                    aria-label=\"register button\"\n                  >\n                    Register\n                  </button>\n                  <Link to=\"/login\">\n                    <button\n                      className={clsx(s.btn, s.btnLogin)}\n                      type=\"button\"\n                      aria-label=\"login button\"\n                    >\n                      Log in\n                    </button>\n                  </Link>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RegistrationForm;\n"],"names":["RegistrationForm","dispatch","useDispatch","FeedbackSchema","Yup.object","Yup.string","Yup.ref","initialValues","handleSubmit","values","actions","username","email","password","userRegisterThunk","error","toast","IoWarningOutline","jsxs","s","jsx","Toaster","Logo","Formik","confirm","Form","CustomInput","Bar","clsx","Link"],"mappings":"26BAgBMA,EAAmB,IAAM,CAC7B,MAAMC,EAAWC,IAEXC,EAAiBC,EAAW,EAAE,MAAM,CACxC,SAAUC,EAAW,EAClB,IAAI,EAAG,8BAA8B,EACrC,SAAS,UAAU,EACtB,MAAOA,EAAW,EAAE,MAAM,uBAAuB,EAAE,SAAS,UAAU,EACtE,SAAUA,EAAW,EAClB,IAAI,EAAG,wCAAwC,EAC/C,IAAI,GAAI,wCAAwC,EAChD,SAAS,UAAU,EACtB,QAASA,EAAW,EACjB,MAAM,CAACC,EAAQ,UAAU,EAAG,IAAI,EAAG,sBAAsB,EACzD,SAAS,UAAU,CAAA,CACvB,EAEKC,EAAgB,CACpB,SAAU,GACV,MAAO,GACP,SAAU,GACV,QAAS,EAAA,EAGLC,EAAe,CAACC,EAAQC,IAAY,CACxC,KAAM,CAAE,SAAAC,EAAU,MAAAC,EAAO,SAAAC,CAAA,EAAaJ,EAC7BR,EAAAa,EAAkB,CAAE,SAAAH,EAAU,MAAAC,EAAO,SAAAC,CAAU,CAAA,CAAC,EACtD,SACA,KAAK,IAAM,CACVH,EAAQ,UAAU,CAAA,CACnB,EACA,MAAOK,GAAU,CAChBC,EAAM,MAAM,GAAGD,EAAM,OAAO,GAAI,CAC9B,WAAOE,EAAiB,CAAA,MAAO,CAAE,MAAO,OAAQ,OAAQ,MAAA,EAAU,EAClE,SAAU,YACV,MAAO,CACL,gBACE,mEAEF,MAAO,OACT,CAAA,CACD,CAAA,CACF,CAAA,EAGL,OACGC,EAAAA,KAAA,MAAA,CAAI,UAAWC,EAAE,cAChB,SAAA,CAAAC,MAACC,GAAQ,SAAS,YAAY,aAAc,GAAO,aAAY,GAAC,EAChED,EAAAA,IAAC,OAAI,UAAWD,EAAE,cAChB,SAACD,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAE,UAChB,SAAA,CAAAC,MAACE,GAAK,UAAWH,EAAE,MAAO,MAAO,GAAI,OAAQ,GAAI,EACjDC,EAAA,IAACG,EAAA,CACC,cAAAhB,EACA,SAAUC,EACV,iBAAkBL,EAEjB,SAAC,CAAA,CAAE,OAAQ,CAAE,SAAAU,EAAU,QAAAW,CAAU,CAAA,IAC/BN,EAAA,KAAAO,EAAA,CAAK,UAAWN,EAAE,KACjB,SAAA,CAAAC,EAAA,IAACM,EAAA,CACC,KAAK,WACL,KAAK,OACL,YAAY,WACZ,OAAO,WAAA,CACT,EACAN,EAAA,IAACM,EAAA,CACC,KAAK,QACL,KAAK,QACL,YAAY,SACZ,OAAO,YAAA,CACT,EACAN,EAAA,IAACM,EAAA,CACC,KAAK,WACL,KAAK,WACL,YAAY,WACZ,OAAO,WAAA,CACT,EACAN,EAAA,IAACM,EAAA,CACC,KAAK,UACL,KAAK,WACL,YAAY,mBACZ,OAAO,WAAA,CACT,EACCb,GAAYO,EAAA,IAACO,EAAI,CAAA,KAAMd,EAAU,QAAAW,EAAkB,EACnDN,EAAA,KAAA,MAAA,CAAI,UAAWC,EAAE,eAChB,SAAA,CAAAC,EAAA,IAAC,SAAA,CACC,UAAWQ,EAAKT,EAAE,IAAKA,EAAE,WAAW,EACpC,KAAK,SACL,aAAW,kBACZ,SAAA,UAAA,CAED,EACAC,EAAAA,IAACS,EAAK,CAAA,GAAG,SACP,SAAAT,EAAA,IAAC,SAAA,CACC,UAAWQ,EAAKT,EAAE,IAAKA,EAAE,QAAQ,EACjC,KAAK,SACL,aAAW,eACZ,SAAA,QAAA,CAAA,EAGH,CAAA,EACF,CAAA,EACF,CAAA,CAEJ,CAAA,CAAA,CACF,CACF,CAAA,CACF,CAAA,CAAA,CAEJ"}