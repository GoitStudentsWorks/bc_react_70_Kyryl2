{"version":3,"file":"Currency-D6J0tVkd.js","sources":["../../src/config/currencyApi.js","../../src/images/DashboardPage-IMG/currency-dekstop_1x.webp","../../src/images/DashboardPage-IMG/currency-tablet_1x.webp","../../src/images/DashboardPage-IMG/currency-mobile_1x.webp","../../src/components/Currency/Currency.jsx"],"sourcesContent":["import axios from \"axios\";\n\nconst apiClient = axios.create({\n  baseURL: \"https://api.monobank.ua/bank/currency\",\n});\n\nconst fetchCurrencyData = async () => {\n  try {\n    const response = await apiClient.get();\n    return response.data;\n  } catch (error) {\n    console.error(\"Failed to fetch currency data:\", error.message);\n    throw new Error(\"Failed to fetch currency data\");\n  }\n};\n\nconst getCachedCurrencyData = () => {\n  const cachedCurrency = JSON.parse(localStorage.getItem(\"currency\"));\n  if (cachedCurrency && Date.now() - cachedCurrency.date < 3600000) {\n    return cachedCurrency;\n  }\n  return null;\n};\n\nconst cacheCurrencyData = (data) => {\n  const now = Date.now();\n  const currencyData = {\n    date: now,\n    usd: data.find(\n      (item) => item.currencyCodeA === 840 && item.currencyCodeB === 980\n    ),\n    eur: data.find(\n      (item) => item.currencyCodeA === 978 && item.currencyCodeB === 980\n    ),\n  };\n\n  localStorage.setItem(\"currency\", JSON.stringify(currencyData));\n  return currencyData;\n};\n\nconst getCurrency = async () => {\n  const cachedCurrency = getCachedCurrencyData();\n  if (cachedCurrency) {\n    return cachedCurrency;\n  }\n\n  const data = await fetchCurrencyData();\n  return cacheCurrencyData(data);\n};\n\nexport default getCurrency;\n","export default \"__VITE_ASSET__CNNJ2P6u__\"","export default \"__VITE_ASSET__CUo69h6v__\"","export default \"__VITE_ASSET__BbkmpMFY__\"","import { useEffect, useState } from \"react\";\n\nimport getCurrency from \"../../config/currencyApi\";\nimport Loader from \"../../components/Loader/Loader\";\nimport useMedia from \"../../hooks/useMedia\";\n\nimport desktopImage from \"../../images/DashboardPage-IMG/currency-dekstop_1x.webp\";\nimport tabletImage from \"../../images/DashboardPage-IMG/currency-tablet_1x.webp\";\nimport mobileImage from \"../../images/DashboardPage-IMG/currency-mobile_1x.webp\";\n\nimport s from \"./Currency.module.css\";\n\nconst Currency = () => {\n  const { isMobile, isTablet, isDesktop } = useMedia();\n  const [currency, setCurrency] = useState(\n    () => JSON.parse(localStorage.getItem(\"currency\")) || null\n  );\n  const [loading, setLoading] = useState(!currency);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await getCurrency();\n        setCurrency(data);\n      } catch (error) {\n        console.error(\"Error fetching currency data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  const getImage = () => {\n    if (isDesktop) return desktopImage;\n    if (isTablet) return tabletImage;\n    if (isMobile) return mobileImage;\n    return desktopImage;\n  };\n\n  return (\n    <div className={s.wrapper}>\n      <div className={s.headContainer}>\n        <p className={s.currency}>Currency</p>\n        <p className={s.purchase}>Purchase</p>\n        <p className={s.sale}>Sale</p>\n      </div>\n      <div className={s.valWrapper}>\n        <div className={s.valContainer}>\n          <p>USD</p>\n          <p>{currency.usd.rateBuy.toFixed(2)}</p>\n          <p>{currency.usd.rateSell.toFixed(2)}</p>\n        </div>\n        <div className={s.valContainer}>\n          <p>EUR</p>\n          <p>{currency.eur.rateBuy.toFixed(2)}</p>\n          <p>{currency.eur.rateSell.toFixed(2)}</p>\n        </div>\n      </div>\n      <img className={s.image} src={getImage()} alt=\"stats\" />\n    </div>\n  );\n};\n\nexport default Currency;\n"],"names":["apiClient","axios","fetchCurrencyData","error","getCachedCurrencyData","cachedCurrency","cacheCurrencyData","data","currencyData","item","getCurrency","desktopImage","tabletImage","mobileImage","Currency","isMobile","isTablet","isDesktop","useMedia","currency","setCurrency","useState","loading","setLoading","useEffect","Loader","getImage","jsxs","s","jsx"],"mappings":"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"}